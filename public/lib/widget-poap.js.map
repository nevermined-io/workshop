{"version":3,"file":"widget-poap.js","mappings":"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","sources":["webpack://nvm-one-widgets/webpack/runtime/chunk loaded","webpack://nvm-one-widgets/./src/utils/constants.ts","webpack://nvm-one-widgets/./src/widgets/workshop-poap/poap-widget.tsx","webpack://nvm-one-widgets/./src/utils/utils.ts","webpack://nvm-one-widgets/./src/utils/config.ts","webpack://nvm-one-widgets/./src/utils/chainConfig.ts","webpack://nvm-one-widgets/./src/widgets/workshop-poap/index.tsx","webpack://nvm-one-widgets/webpack/bootstrap","webpack://nvm-one-widgets/webpack/runtime/amd options","webpack://nvm-one-widgets/webpack/runtime/compat get default export","webpack://nvm-one-widgets/webpack/runtime/define property getters","webpack://nvm-one-widgets/webpack/runtime/global","webpack://nvm-one-widgets/webpack/runtime/hasOwnProperty shorthand","webpack://nvm-one-widgets/webpack/runtime/make namespace object","webpack://nvm-one-widgets/webpack/runtime/node module decorator","webpack://nvm-one-widgets/webpack/runtime/jsonp chunk loading","webpack://nvm-one-widgets/webpack/startup"],"sourcesContent":["var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","import { BigNumber } from '@nevermined-io/catalog-core';\nimport type { AvailableTierType } from '../types/types';\n\nexport const NFT_TIERS_HOLDER =\n  process.env.NEXT_PUBLIC_NFT_TIERS_HOLDER ||\n  '0x819dd6c82ad96e0B7B71Bf9161C90cFcd48E4dA5';\n\nexport const NFT_TIERS_AMOUNT = (\n  process.env.NEXT_PUBLIC_NFT_TIERS_AMOUNT\n    ? BigNumber.parseEther(process.env.NEXT_PUBLIC_NFT_TIERS_AMOUNT)\n    : 1\n) as BigNumber;\n\nexport const NFT_TIERS_TYPE = 721;\n\nexport const CATEGORY_PREFIX = 'ProtocolType';\n\nexport const SUBCATEGORY_PREFIX = 'EventType';\n\nexport const NETWORK_PREFIX = 'Blockchain';\n\nexport const MetamaskCustomErrors = {\n  CANCELLED: [\n    4001,\n    'The transaction was canceled. Please, approve it to purchase the asset.',\n  ],\n};\n\nexport enum MetamaskErrorCodes {\n  CANCELLED = 4001,\n}\n\nexport const AVAILABLE_TIERS: AvailableTierType[] = [\n  {\n    name: 'Community',\n    price: '0',\n    symbol: 'USDC',\n    features: [\n      'On-chain normalized data from different protocols and networks',\n      'Insights dashboards',\n      'Integration of basic data with Google Data Studio',\n      'Publish reports and notebooks/algorithms without monetization free for the community',\n      'Access to community reports',\n    ],\n    enabled: true,\n  },\n  {\n    name: 'Analyst',\n    price: '50',\n    symbol: 'USDC',\n    features: [\n      'Tier 1 + Enriched and aggregated datasets',\n      'Advanced dashboards',\n      'Integration of aggregated data with Google Data Studio',\n      'Monetization of reports and notebooks/algorithms',\n      'Access to tier 2 reports',\n    ],\n    enabled: false,\n  },\n  {\n    name: 'Enterprise',\n    price: '500',\n    symbol: 'USDC',\n    features: [\n      'Tier 2 + Insights and AI on top of the on-chain data',\n      'Full access to insights dashboards',\n      'Integration of insights reports with Google Data Studio',\n      'Monetization of reports and notebooks/algorithms',\n      'Access to tier 2 and tier 3 reports',\n    ],\n    enabled: false,\n  },\n];\n\nexport const NFT_TIERS = [\n  {\n    level: 1,\n    name: 'Community',\n    did:\n      process.env.NEXT_PUBLIC_DID_NFT_TIER1 ||\n      '0b6d32e8c2a7f478eef501f9ab0527511801018f37dd89f436b1a752d3bb33ef',\n    address:\n      process.env.NEXT_PUBLIC_NFT_ADDRESS_TIER1 ||\n      '0xec6ec39FD6a0099dE1Ed9Dfd312caBf7b9cc6e41',\n  },\n  {\n    level: 2,\n    name: 'Analyst',\n    did:\n      process.env.NEXT_PUBLIC_DID_NFT_TIER2 ||\n      '9e60322c32cafe73153ac9c315773b04c34829b89e56d2b73baedc7f0816346e',\n    address:\n      process.env.NEXT_PUBLIC_NFT_ADDRESS_TIER2 ||\n      '0x1B058140C5448f0e0e6d2a09711F7ABc6BE07411',\n  },\n  {\n    level: 3,\n    name: 'Enterprise',\n    did:\n      process.env.NEXT_PUBLIC_DID_NFT_TIER3 ||\n      '72b8302b75dd2c16fb2c4db60757f779c3f7927068f0a50e4d0508103edffbe5',\n    address:\n      process.env.NEXT_PUBLIC_NFT_ADDRESS_TIER3 ||\n      '0x2dBafaa2f8362C763f49CcDcA35a882386D455c5',\n  },\n];\n","import React, { useEffect, useState } from 'react'\nimport {\n  Catalog,\n  getCurrentAccount,\n  DDO,\n  Logger,\n  BigNumber,\n} from '@nevermined-io/catalog-core'\nimport { MetaMask } from '@nevermined-io/catalog-providers'\nimport {\n  MetamaskCustomErrors,\n  MetamaskErrorCodes,\n} from '../../utils/constants'\nimport { UiLayout, UiButton, UiText } from '@nevermined-io/styles'\nimport { isSdkAvailable } from '../../utils/utils'\n\ntype PoapWidgetProps = {\n  did: string\n}\n\nexport const PoapWidget: React.FC<PoapWidgetProps> = ({ did }) => {\n  const { sdk, account, isLoadingSDK, subscription } = Catalog.useNevermined()\n  const { walletAddress, isAvailable, checkIsLogged } = MetaMask.useWallet()\n  const [owner, setOwner] = useState('')\n  const [ownNFT721, setOwnNFT721] = useState(false)\n  const [isBought, setIsBought] = useState(false)\n\n  useEffect(() => {\n    if (isLoadingSDK || !isSdkAvailable(sdk)) {\n      return\n    }\n\n    (async () => {\n      const ddo = await sdk.metadata.retrieveDDO(did)\n      const nftAddress = await sdk.nfts.getNftContractAddress(ddo)\n      setOwnNFT721(await account.isNFT721Holder(nftAddress as string, walletAddress))\n      setOwner(await sdk.assets.owner(did))\n    })()\n  }, [isLoadingSDK, walletAddress, isBought])\n\n  const reedemAsset = async () => {\n    try {\n      const currentAccount = await getCurrentAccount(sdk)\n      if (\n        !account.isTokenValid() ||\n        account.getAddressTokenSigner().toLowerCase() !==\n          currentAccount.getId().toLowerCase()\n      ) {\n        await account.generateToken()\n      }\n\n      const response = await subscription.buySubscription(\n        did,\n        currentAccount,\n        owner,\n        BigNumber.from(1),\n        721\n      )\n      setIsBought(Boolean(response))\n    } catch (error: any) {\n      console.error(\n        error.code === MetamaskErrorCodes.CANCELLED\n          ? MetamaskCustomErrors.CANCELLED[1]\n          : error.message\n      )\n    } finally {\n    }\n  }\n\n  return (\n    <UiLayout>\n      {ownNFT721 ? (\n        <UiText>Already redeemed</UiText>\n      ) : owner !== walletAddress ? (\n        <UiButton onClick={reedemAsset} disabled={isLoadingSDK}>\n          REEDEM\n        </UiButton>\n      ) : (\n        <UiText>You are the owner</UiText>\n      )}\n    </UiLayout>\n  )\n}\n","import { DDO, MetaData } from '@nevermined-io/nevermined-sdk-js';\nimport { Nevermined } from '@nevermined-io/catalog-core';\nimport type {\n  DDOSubscription,\n  SubscriptionTiers,\n  UserSubscription,\n} from '../types/types';\nimport {\n  CATEGORY_PREFIX,\n  NETWORK_PREFIX,\n  SUBCATEGORY_PREFIX,\n  NFT_TIERS,\n} from './constants';\n\nexport const checkSubscription = async (\n  sdk: Nevermined,\n  nftTierAddress?: string\n): Promise<boolean> => {\n  if (!nftTierAddress) {\n    return false;\n  }\n\n  const accounts = await sdk.accounts.list();\n\n  if (!accounts[0]) {\n    return false;\n  }\n\n  const nft721 = await sdk.contracts.loadNft721(nftTierAddress);\n  const balance = await nft721.balanceOf(accounts[0]);\n  return balance.gt(0);\n};\n\nexport const getUserSubscriptions = async (\n  sdk: Nevermined\n): Promise<UserSubscription[]> => {\n  const tier3 = NFT_TIERS.find((tier) => tier.level === 3);\n  const tier2 = NFT_TIERS.find((tier) => tier.level === 2);\n  const tier1 = NFT_TIERS.find((tier) => tier.level === 1);\n\n  // Check Tier3\n  const isTier3 = await checkSubscription(sdk, tier3?.address);\n  if (isTier3) {\n    return [\n      {\n        tier: tier3!.name as SubscriptionTiers,\n        address: tier3!.address,\n        did: tier3!.did,\n        access: true,\n        current: true,\n      },\n      {\n        tier: tier2!.name as SubscriptionTiers,\n        address: tier2!.address,\n        did: tier2!.did,\n        access: true,\n        current: false,\n      },\n      {\n        tier: tier1!.name as SubscriptionTiers,\n        address: tier1!.address,\n        did: tier1!.did,\n        access: true,\n        current: false,\n      },\n    ];\n  }\n\n  // Check Tier2\n  const isTier2 = await checkSubscription(sdk, tier2?.address);\n  if (isTier2) {\n    return [\n      {\n        tier: tier3!.name as SubscriptionTiers,\n        address: tier3!.address,\n        did: tier3!.did,\n        access: false,\n        current: false,\n      },\n      {\n        tier: tier2!.name as SubscriptionTiers,\n        address: tier2!.address,\n        did: tier2!.did,\n        access: true,\n        current: true,\n      },\n      {\n        tier: tier1!.name as SubscriptionTiers,\n        address: tier1!.address,\n        did: tier1!.did,\n        access: true,\n        current: false,\n      },\n    ];\n  }\n\n  // Check Tier1\n  const isTier1 = await checkSubscription(sdk, tier1?.address);\n  if (isTier1) {\n    return [\n      {\n        tier: tier3!.name as SubscriptionTiers,\n        address: tier3!.address,\n        did: tier3!.did,\n        access: false,\n        current: false,\n      },\n      {\n        tier: tier2!.name as SubscriptionTiers,\n        address: tier2!.address,\n        did: tier2!.did,\n        access: false,\n        current: false,\n      },\n      {\n        tier: tier1!.name as SubscriptionTiers,\n        address: tier1!.address,\n        did: tier1!.did,\n        access: true,\n        current: true,\n      },\n    ];\n  }\n  return [];\n};\n\nexport function getDefiInfo({ additionalInformation }: MetaData) {\n  const cats = additionalInformation?.categories;\n  if (cats) {\n    const contains = (prefix: string) => {\n      const filtered = cats.filter((cat) => cat.includes(prefix));\n      return filtered.length > 0\n        ? filtered[0].substring(filtered[0].indexOf(':') + 1)\n        : '';\n    };\n    return {\n      category: contains(CATEGORY_PREFIX),\n      subcategory: contains(SUBCATEGORY_PREFIX),\n      network: contains(NETWORK_PREFIX),\n    };\n  }\n}\n\nexport function getDdoSubscription(ddo: DDO): DDOSubscription {\n  const subscriptionAddress = ddo\n    .findServiceByType('nft-access')\n    ?.attributes?.serviceAgreementTemplate?.conditions?.find(\n      ({ name }: any) => name === 'nftHolder'\n    )\n    ?.parameters?.find(({ name }: any) => name === '_contractAddress')?.value;\n\n  const tier: string =\n    NFT_TIERS.find((tier) => tier.address === subscriptionAddress)?.name || '';\n\n  return {\n    address: subscriptionAddress as string,\n    tier: tier as SubscriptionTiers,\n  };\n}\n\nexport const isSdkAvailable = (sdk: Nevermined) =>\n  sdk && Object.keys(sdk).length > 0;\n","export const marketplaceUri =\n  \"https://marketplace-api.mumbai.public.nevermined.network\";\n\nexport const gatewayUri = \"https://gateway.mumbai.public.nevermined.network\";\n\nexport const faucetUri = \"/api/faucet\";\n\nexport const gatewayAddress = \"0x5838B5512cF9f12FE9f2beccB20eb47211F9B0bc\";\n\nexport const nodeUri =\n  \"https://polygon-mumbai.g.alchemy.com/v2/z_wJkSCTxkgsmPT241x8SY_QHf2jmCzZ\";\n\nexport const correctNetworkId = \"80001\";\n\nexport const secretStoreUri = \"http://localhost:12001\";\n\nexport const artifactsFolder = `${window.location.protocol}//${window.location.host}/contracts`;\n\nexport const graphHttpUri =\n  \"https://api.thegraph.com/subgraphs/name/nevermined-io/public\";\n\nexport const verbose = true;\n","import { zeroX } from '@nevermined-io/nevermined-sdk-js/dist/node/utils'\n\nconst spreeChainId = zeroX((1337).toString(16))\nconst polygonLocalnetChainId = zeroX((8997).toString(16))\nconst mumbaiChainId = zeroX((80001).toString(16))\nconst mainnetChainId = zeroX((137).toString(16))\n\nexport const chainConfig = {\n  development: {\n    chainId: spreeChainId,\n    chainName: 'Localhost development',\n    nativeCurrency: {\n      name: 'Ethereum',\n      symbol: 'ETH',\n      decimals: 18\n    },\n    rpcUrls: ['http://localhost:8545'],\n    blockExplorerUrls: [''],\n    iconUrls: ['https://s2.coinmarketcap.com/static/img/coins/64x64/3890.png']\n  },\n  mumbai: {\n    chainId: mumbaiChainId,\n    chainName: 'Polygon Testnet Mumbai',\n    nativeCurrency: {\n      name: 'Matic',\n      symbol: 'MATIC',\n      decimals: 18\n    },\n    rpcUrls: [\n      'https://matic-mumbai.chainstacklabs.com',\n      'https://rpc-endpoints.superfluid.dev/mumbai'\n    ],\n    blockExplorerUrls: ['https://mumbai.polygonscan.com/'],\n    iconUrls: ['https://s2.coinmarketcap.com/static/img/coins/64x64/3890.png']\n  },\n  mainnet: {\n    chainId: mainnetChainId,\n    chainName: 'Polygon Mainnet',\n    nativeCurrency: {\n      name: 'Matic',\n      symbol: 'MATIC',\n      decimals: 18\n    },\n    rpcUrls: ['https://polygon-rpc.com'],\n    blockExplorerUrls: ['https://polygonscan.com/'],\n    iconUrls: ['https://s2.coinmarketcap.com/static/img/coins/64x64/3890.png']\n  },\n  returnConfig: (chainIdHex: string) => {\n    if (chainIdHex === spreeChainId || chainIdHex === polygonLocalnetChainId) {\n      return chainConfig.development\n    }\n    if (chainIdHex === mumbaiChainId) {\n      return chainConfig.mumbai\n    }\n    if (chainIdHex === mainnetChainId) {\n      return chainConfig.mainnet\n    }\n    return chainConfig.development\n  }\n}\n","import React from 'react';\nimport { createRoot } from 'react-dom/client';\nimport { MetaMask } from '@nevermined-io/catalog-providers';\nimport { AssetService, AuthToken, Catalog, Logger } from '@nevermined-io/catalog-core';\nimport { ethers } from 'ethers';\nimport { PoapWidget } from './poap-widget';\nimport {\n  gatewayUri,\n  gatewayAddress,\n  faucetUri,\n  verbose,\n  graphHttpUri,\n  marketplaceUri,\n  artifactsFolder,\n  nodeUri,\n  correctNetworkId,\n  secretStoreUri,\n} from '../../utils/config';\nimport { chainConfig } from '../../utils/chainConfig';\n\nconst appConfig = {\n  web3Provider: window.ethereum || new ethers.providers.JsonRpcProvider(),\n  nodeUri,\n  gatewayUri,\n  faucetUri,\n  verbose,\n  gatewayAddress,\n  graphHttpUri,\n  marketplaceAuthToken:\n    AuthToken.fetchMarketplaceApiTokenFromLocalStorage().token,\n  marketplaceUri,\n  artifactsFolder,\n  secretStoreUri,\n};\n\nLogger.setLevel(3)\n\nconst element = document.getElementById('poap-widget');\n\nif (element) {\n  const did = element.getAttribute('nvm-did');\n\n  if (did) {\n    createRoot(element!).render(\n      <Catalog.NeverminedProvider\n        config={appConfig}\n      >\n        <MetaMask.WalletProvider\n          externalChainConfig={chainConfig}\n          correctNetworkId={correctNetworkId}\n          nodeUri={nodeUri}\n        >\n          <PoapWidget did={did} />\n        </MetaMask.WalletProvider>\n      </Catalog.NeverminedProvider>\n    );\n  }\n}\n\nexport default () => {\n  return <></>;\n};\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","__webpack_require__.amdO = {};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = (module) => {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t510: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunknvm_one_widgets\"] = self[\"webpackChunknvm_one_widgets\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [452], () => (__webpack_require__(72835)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["deferred","process","env","NEXT_PUBLIC_NFT_TIERS_HOLDER","NEXT_PUBLIC_NFT_TIERS_AMOUNT","BigNumber","MetamaskErrorCodes","NEXT_PUBLIC_DID_NFT_TIER1","NEXT_PUBLIC_NFT_ADDRESS_TIER1","NEXT_PUBLIC_DID_NFT_TIER2","NEXT_PUBLIC_NFT_ADDRESS_TIER2","NEXT_PUBLIC_DID_NFT_TIER3","NEXT_PUBLIC_NFT_ADDRESS_TIER3","PoapWidget","did","sdk","account","isLoadingSDK","subscription","Catalog","walletAddress","isAvailable","checkIsLogged","MetaMask","owner","setOwner","useState","ownNFT721","setOwnNFT721","isBought","setIsBought","useEffect","Object","keys","length","isSdkAvailable","ddo","metadata","retrieveDDO","nftAddress","nfts","getNftContractAddress","isNFT721Holder","assets","onClick","currentAccount","getCurrentAccount","isTokenValid","getAddressTokenSigner","toLowerCase","getId","generateToken","response","buySubscription","Boolean","error","disabled","nodeUri","artifactsFolder","window","location","protocol","host","spreeChainId","zeroX","toString","polygonLocalnetChainId","mumbaiChainId","mainnetChainId","chainConfig","development","chainId","chainName","nativeCurrency","name","symbol","decimals","rpcUrls","blockExplorerUrls","iconUrls","mumbai","mainnet","returnConfig","chainIdHex","appConfig","web3Provider","ethereum","gatewayUri","faucetUri","verbose","gatewayAddress","graphHttpUri","marketplaceAuthToken","AuthToken","token","marketplaceUri","secretStoreUri","Logger","document","getElementById","getAttribute","render","config","externalChainConfig","correctNetworkId","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","id","loaded","__webpack_modules__","call","m","amdO","O","result","chunkIds","fn","priority","notFulfilled","Infinity","i","fulfilled","j","every","key","splice","r","n","getter","__esModule","d","a","definition","o","defineProperty","enumerable","get","g","globalThis","this","Function","e","obj","prop","prototype","hasOwnProperty","Symbol","toStringTag","value","nmd","paths","children","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","data","moreModules","runtime","some","chunkLoadingGlobal","self","forEach","bind","push","__webpack_exports__"],"sourceRoot":""}