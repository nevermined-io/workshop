(()=>{var e,t={91069:(e,t,n)=>{"use strict";n(6414);var o=n(67294),a=n(20745),r=n(23660),i=n(41426),c=n(82169),s=n(34155);s.env.NEXT_PUBLIC_NFT_TIERS_HOLDER,s.env.NEXT_PUBLIC_NFT_TIERS_AMOUNT&&i.BigNumber.parseEther(s.env.NEXT_PUBLIC_NFT_TIERS_AMOUNT);var l;!function(e){e[e.CANCELLED=4001]="CANCELLED"}(l||(l={}));s.env.NEXT_PUBLIC_DID_NFT_TIER1,s.env.NEXT_PUBLIC_NFT_ADDRESS_TIER1,s.env.NEXT_PUBLIC_DID_NFT_TIER2,s.env.NEXT_PUBLIC_NFT_ADDRESS_TIER2,s.env.NEXT_PUBLIC_DID_NFT_TIER3,s.env.NEXT_PUBLIC_NFT_ADDRESS_TIER3;var m=n(76798);var d=function(e,t,n,o){return new(n||(n=Promise))((function(a,r){function i(e){try{s(o.next(e))}catch(e){r(e)}}function c(e){try{s(o.throw(e))}catch(e){r(e)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,c)}s((o=o.apply(e,t||[])).next())}))};const p=(0,m.CY)("nvm-poap-widget",{"nvm-poap-widget":"rcPt4qjXJDQAt5SawFWU","nvm-poap-widget__banner":"ygPH0DW5rszno8N8p6t1","nvm-poap-widget__reedem-container":"gQkGwTGIAHBL2CTNLfDD","nvm-poap-widget__reedem":"EI5VFa2XYDnTvHH_om7v","nvm-poap-widget__text":"IgRSNiuJ_Q4xepGsBTOj","nvm-poap-widget__reedem--enable-button":"g3BLAaH7VMin4hBSnNaj","nvm-poap-widget__reedem--disable-button":"S13aPbPO7ZUc3pi3jcLy","nvm-poap-widget__text--warning":"T8u4oyWPmAu4Y_sLzHZx"}),u=({did:e})=>{const{sdk:t,account:n,isLoadingSDK:a,subscription:c}=i.Catalog.useNevermined(),{walletAddress:s,isAvailable:l,checkIsLogged:u}=r.MetaMask.useWallet(),[g,v]=(0,o.useState)(""),[b,h]=(0,o.useState)(!1),[_,f]=(0,o.useState)(!1);(0,o.useEffect)((()=>{!a&&(e=>e&&Object.keys(e).length>0)(t)&&d(void 0,void 0,void 0,(function*(){const o=yield t.metadata.retrieveDDO(e),a=yield t.nfts.getNftContractAddress(o);h(yield n.isNFT721Holder(a,s)),v(yield t.assets.owner(e))}))}),[a,s,_]);const E=()=>a||b||g===s;return o.createElement(m.AH,{className:p()},o.createElement(m.AH,{className:p("banner")},o.createElement("img",{src:"https://img.evbuc.com/https%3A%2F%2Fcdn.evbuc.com%2Fimages%2F380612549%2F843518150983%2F1%2Foriginal.20221026-075710?w=940&auto=format%2Ccompress&q=75&sharp=10&rect=0%2C22%2C1920%2C960&s=0859c2925ea8fb1bb97bc856cce14f85"})),t.accounts&&o.createElement(m.AH,{className:p("reedem-container")},o.createElement(m.AH,{className:p("text")},E()&&o.createElement(m.II,{className:p("text",["warning"])},"You cannot reedem again")),o.createElement(m.AH,{className:p("reedem")},o.createElement(m.wg,{onClick:()=>d(void 0,void 0,void 0,(function*(){try{const o=yield(0,i.getCurrentAccount)(t);n.isTokenValid()&&n.getAddressTokenSigner().toLowerCase()===o.getId().toLowerCase()||(yield n.generateToken());const a=yield c.buySubscription(e,o,g,i.BigNumber.from(1),721);f(Boolean(a))}catch(e){}})),className:p("reedem",[E()?"disable-button":"enable-button"]),disabled:E()},"REEDEM"))))},g="https://polygon-mumbai.g.alchemy.com/v2/z_wJkSCTxkgsmPT241x8SY_QHf2jmCzZ",v=`${window.location.protocol}//${window.location.host}/contracts`;var b=n(42718);const h=(0,b.zeroX)(1337..toString(16)),_=(0,b.zeroX)(8997..toString(16)),f=(0,b.zeroX)(80001..toString(16)),E=(0,b.zeroX)(137..toString(16)),T={development:{chainId:h,chainName:"Localhost development",nativeCurrency:{name:"Ethereum",symbol:"ETH",decimals:18},rpcUrls:["http://localhost:8545"],blockExplorerUrls:[""],iconUrls:["https://s2.coinmarketcap.com/static/img/coins/64x64/3890.png"]},mumbai:{chainId:f,chainName:"Polygon Testnet Mumbai",nativeCurrency:{name:"Matic",symbol:"MATIC",decimals:18},rpcUrls:["https://matic-mumbai.chainstacklabs.com","https://rpc-endpoints.superfluid.dev/mumbai"],blockExplorerUrls:["https://mumbai.polygonscan.com/"],iconUrls:["https://s2.coinmarketcap.com/static/img/coins/64x64/3890.png"]},mainnet:{chainId:E,chainName:"Polygon Mainnet",nativeCurrency:{name:"Matic",symbol:"MATIC",decimals:18},rpcUrls:["https://polygon-rpc.com"],blockExplorerUrls:["https://polygonscan.com/"],iconUrls:["https://s2.coinmarketcap.com/static/img/coins/64x64/3890.png"]},returnConfig:e=>e===h||e===_?T.development:e===f?T.mumbai:e===E?T.mainnet:T.development},w={web3Provider:window.ethereum||new c.r,nodeUri:g,gatewayUri:"https://gateway.mumbai.public.nevermined.network",faucetUri:"/api/faucet",verbose:!0,gatewayAddress:"0x5838B5512cF9f12FE9f2beccB20eb47211F9B0bc",graphHttpUri:"https://api.thegraph.com/subgraphs/name/nevermined-io/public",marketplaceAuthToken:i.AuthToken.fetchMarketplaceApiTokenFromLocalStorage().token,marketplaceUri:"https://marketplace-api.mumbai.public.nevermined.network",artifactsFolder:v,secretStoreUri:"http://localhost:12001"};i.Logger.setLevel(3);const y=document.getElementById("nvm-poap-widget");if(y){const e=y.getAttribute("nvm-did");e&&(0,a.s)(y).render(o.createElement(i.Catalog.NeverminedProvider,{config:w},o.createElement(r.MetaMask.WalletProvider,{externalChainConfig:T,correctNetworkId:"80001",nodeUri:g},o.createElement(u,{did:e}))))}},88677:()=>{},62808:()=>{},9114:()=>{},74487:()=>{},46601:()=>{},89214:()=>{},71922:()=>{},2363:()=>{},52361:()=>{},94616:()=>{}},n={};function o(e){var a=n[e];if(void 0!==a)return a.exports;var r=n[e]={id:e,loaded:!1,exports:{}};return t[e].call(r.exports,r,r.exports,o),r.loaded=!0,r.exports}o.m=t,o.amdO={},e=[],o.O=(t,n,a,r)=>{if(!n){var i=1/0;for(m=0;m<e.length;m++){for(var[n,a,r]=e[m],c=!0,s=0;s<n.length;s++)(!1&r||i>=r)&&Object.keys(o.O).every((e=>o.O[e](n[s])))?n.splice(s--,1):(c=!1,r<i&&(i=r));if(c){e.splice(m--,1);var l=a();void 0!==l&&(t=l)}}return t}r=r||0;for(var m=e.length;m>0&&e[m-1][2]>r;m--)e[m]=e[m-1];e[m]=[n,a,r]},o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),o.j=510,(()=>{var e={510:0};o.O.j=t=>0===e[t];var t=(t,n)=>{var a,r,[i,c,s]=n,l=0;if(i.some((t=>0!==e[t]))){for(a in c)o.o(c,a)&&(o.m[a]=c[a]);if(s)var m=s(o)}for(t&&t(n);l<i.length;l++)r=i[l],o.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return o.O(m)},n=self.webpackChunknvm_one_widgets=self.webpackChunknvm_one_widgets||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),o.nc=void 0;var a=o.O(void 0,[685],(()=>o(91069)));a=o.O(a)})();
//# sourceMappingURL=widget-poap.js.map