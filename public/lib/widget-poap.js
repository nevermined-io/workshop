(()=>{var e,t={72835:(e,t,n)=>{"use strict";var r=n(67294),o=n(20745),a=n(23660),i=n(41426),c=n(82169),l=n(34155);l.env.NEXT_PUBLIC_NFT_TIERS_HOLDER,l.env.NEXT_PUBLIC_NFT_TIERS_AMOUNT&&i.BigNumber.parseEther(l.env.NEXT_PUBLIC_NFT_TIERS_AMOUNT);var s;!function(e){e[e.CANCELLED=4001]="CANCELLED"}(s||(s={}));l.env.NEXT_PUBLIC_DID_NFT_TIER1,l.env.NEXT_PUBLIC_NFT_ADDRESS_TIER1,l.env.NEXT_PUBLIC_DID_NFT_TIER2,l.env.NEXT_PUBLIC_NFT_ADDRESS_TIER2,l.env.NEXT_PUBLIC_DID_NFT_TIER3,l.env.NEXT_PUBLIC_NFT_ADDRESS_TIER3;var d=n(76798);var m=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{l(r.next(e))}catch(e){a(e)}}function c(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,c)}l((r=r.apply(e,t||[])).next())}))};i.Logger.setLevel(3);const u=({did:e})=>{const{sdk:t,account:n,isLoadingSDK:o,subscription:c}=i.Catalog.useNevermined(),{walletAddress:l,isAvailable:s,checkIsLogged:u}=a.MetaMask.useWallet(),[p,v]=(0,r.useState)(""),[h,g]=(0,r.useState)(!1),[b,f]=(0,r.useState)(!1);(0,r.useEffect)((()=>{!o&&(e=>e&&Object.keys(e).length>0)(t)&&m(void 0,void 0,void 0,(function*(){g(yield n.isNFT721Holder(e,l)),v(yield t.assets.owner(e))}))}),[o,l,b]);return r.createElement(d.AH,null,h?r.createElement(d.II,null,"Already redeemed"):p!==l?r.createElement(d.wg,{onClick:()=>m(void 0,void 0,void 0,(function*(){try{const r=yield(0,i.getCurrentAccount)(t);n.isTokenValid()&&n.getAddressTokenSigner().toLowerCase()===r.getId().toLowerCase()||(yield n.generateToken());const o=yield c.buySubscription(e,r,p,i.BigNumber.from(1),721);f(Boolean(o))}catch(e){}})),disabled:o},"REEDEM"):r.createElement(d.II,null,"You are the owner"))},p="https://polygon-mumbai.g.alchemy.com/v2/z_wJkSCTxkgsmPT241x8SY_QHf2jmCzZ",v=`${window.location.protocol}//${window.location.host}/contracts`;var h=n(42718);const g=(0,h.zeroX)(1337..toString(16)),b=(0,h.zeroX)(8997..toString(16)),f=(0,h.zeroX)(80001..toString(16)),E=(0,h.zeroX)(137..toString(16)),T={development:{chainId:g,chainName:"Localhost development",nativeCurrency:{name:"Ethereum",symbol:"ETH",decimals:18},rpcUrls:["http://localhost:8545"],blockExplorerUrls:[""],iconUrls:["https://s2.coinmarketcap.com/static/img/coins/64x64/3890.png"]},mumbai:{chainId:f,chainName:"Polygon Testnet Mumbai",nativeCurrency:{name:"Matic",symbol:"MATIC",decimals:18},rpcUrls:["https://matic-mumbai.chainstacklabs.com","https://rpc-endpoints.superfluid.dev/mumbai"],blockExplorerUrls:["https://mumbai.polygonscan.com/"],iconUrls:["https://s2.coinmarketcap.com/static/img/coins/64x64/3890.png"]},mainnet:{chainId:E,chainName:"Polygon Mainnet",nativeCurrency:{name:"Matic",symbol:"MATIC",decimals:18},rpcUrls:["https://polygon-rpc.com"],blockExplorerUrls:["https://polygonscan.com/"],iconUrls:["https://s2.coinmarketcap.com/static/img/coins/64x64/3890.png"]},returnConfig:e=>e===g||e===b?T.development:e===f?T.mumbai:e===E?T.mainnet:T.development},_={web3Provider:window.ethereum||new c.r,nodeUri:p,gatewayUri:"https://gateway.mumbai.public.nevermined.network",faucetUri:"/api/faucet",verbose:!0,gatewayAddress:"0x5838B5512cF9f12FE9f2beccB20eb47211F9B0bc",graphHttpUri:"https://api.thegraph.com/subgraphs/name/nevermined-io/public",marketplaceAuthToken:i.AuthToken.fetchMarketplaceApiTokenFromLocalStorage().token,marketplaceUri:"https://marketplace-api.mumbai.public.nevermined.network",artifactsFolder:v,secretStoreUri:"http://localhost:12001"},y=document.getElementById("poap-widget");if(y){const e=y.getAttribute("nvm-did");e&&(0,o.s)(y).render(r.createElement(i.Catalog.NeverminedProvider,{config:_,verbose:_.verbose},r.createElement(a.MetaMask.WalletProvider,{externalChainConfig:T,correctNetworkId:"80001",nodeUri:p},r.createElement(i.AssetService.AssetPublishProvider,null,r.createElement(u,{did:e})))))}},88677:()=>{},62808:()=>{},9114:()=>{},74487:()=>{},46601:()=>{},89214:()=>{},71922:()=>{},2363:()=>{},52361:()=>{},94616:()=>{}},n={};function r(e){var o=n[e];if(void 0!==o)return o.exports;var a=n[e]={id:e,loaded:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.loaded=!0,a.exports}r.m=t,r.amdO={},e=[],r.O=(t,n,o,a)=>{if(!n){var i=1/0;for(d=0;d<e.length;d++){for(var[n,o,a]=e[d],c=!0,l=0;l<n.length;l++)(!1&a||i>=a)&&Object.keys(r.O).every((e=>r.O[e](n[l])))?n.splice(l--,1):(c=!1,a<i&&(i=a));if(c){e.splice(d--,1);var s=o();void 0!==s&&(t=s)}}return t}a=a||0;for(var d=e.length;d>0&&e[d-1][2]>a;d--)e[d]=e[d-1];e[d]=[n,o,a]},r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{var e={510:0};r.O.j=t=>0===e[t];var t=(t,n)=>{var o,a,[i,c,l]=n,s=0;if(i.some((t=>0!==e[t]))){for(o in c)r.o(c,o)&&(r.m[o]=c[o]);if(l)var d=l(r)}for(t&&t(n);s<i.length;s++)a=i[s],r.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return r.O(d)},n=self.webpackChunknvm_one_widgets=self.webpackChunknvm_one_widgets||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var o=r.O(void 0,[452],(()=>r(72835)));o=r.O(o)})();
//# sourceMappingURL=widget-poap.js.map